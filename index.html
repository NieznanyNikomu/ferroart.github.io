<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta content="IE=edge" http-equiv="X-UA-Compatible"><meta content="width=device-width, initial-scale=1" name="viewport"><title>Access Termux via USB - glow.li</title><meta content="Access Termux via USB" property="og:title"><meta content="I&#039;ve been using Termux over SSH [https://glow.li/posts/run-an-ssh-server-on-your-android-with-termux/] for quite a while now. I&#039;ve always done so over WiFi. Thi" name="description"><meta content="I&#039;ve been using Termux over SSH [https://glow.li/posts/run-an-ssh-server-on-your-android-with-termux/] for quite a while now. I&#039;ve always done so over WiFi. Thi" property="og:description"><link href="https://glow.li/apple-touch-icon.png?6ccd5" rel="apple-touch-icon" sizes="180x180"><link href="https://glow.li/favicon-32x32.png?6ccd5" rel="icon" sizes="32x32" type="image/png"><link href="https://glow.li/favicon-16x16.png?6ccd5" rel="icon" sizes="16x16" type="image/png"><link href="https://glow.li/manifest.webmanifest" rel="manifest"><link color="#00120c" href="https://glow.li/safari-pinned-tab.svg?6ccd5" rel="mask-icon"><meta content="#00120c" name="theme-color"><link href="https://glow.li/min/glow.li.min.css?d60b9" rel="stylesheet"></head> <body class="nojs"><div class="bgoverlay"></div> <div class="progressbar"></div> <div id="hydration"><div class="site-container"><a class="nocss specialemptylink" href="#">&nbsp;</a> <div class="header"><div class="logoContainer stripe"><div class="stripe-content-centered"><div class="logowrapper"><div class="logo"><pre class="pre-header"><a class="logo-inner" data-content="  ▁            ▁&#10;▗▛▀▜▄ ▃▃▃,,. ~°°°┐&#10;▐▌▗███████%#X0,  #&#10; ▀███▛▜███@K°%M#%°&#10; ▟███ o▟██▙o #5M%&#10; ██#██▛▗▄▄▖▜██#0K&#10;▕██M%█▏▝▜▛▘▕█████▏&#10; ▜████▙━▘▝━▟████▛&#10;  ▝▀▀▜██████▛▀▀▘" href="https://glow.li/">  ▁            ▁&#10;▗▛▀▜▄ ▃▃▃,,. ~°°°┐&#10;▐▌▗███████%#X0,  #&#10; ▀███▛▜███@K°%M#%°&#10; ▟███ o▟██▙o #5M%&#10; ██#██▛▗▄▄▖▜██#0K&#10;▕██M%█▏▝▜▛▘▕█████▏&#10; ▜████▙━▘▝━▟████▛&#10;  ▝▀▀▜██████▛▀▀▘</a></pre> </div> </div> </div> </div> <div class="stripe stripe-default"><div class="stripe-content-centered"><h1 class="site-title"><a href="https://glow.li/"><span class="charfont-site-title"><span class="charfont-g">g</span><span class="charfont-l">l</span><span class="charfont-o">o</span><span class="charfont-w">w</span><span class="charfont-dot">.</span><span class="charfont-l">l</span><span class="charfont-i">i</span></span> </a> </h1> </div> </div></div> <div class="nav-search-container-bg stripe"><div class="stripe-content-centered"></div> </div> <div class="nav-search-container"><div class="search-container stripe"><div class="stripe-content-centered"><div class="search" id="search"><input class="search-bar" placeholder="Search" type="text"> <span class="search-close">×</span> <span class="nocss">Search requires Javascript</span> <div class="search-results"></div></div> </div> </div> <div class="nav stripe"><div class="stripe-content-centered"><div class="nav-container"><div class="nocss nocss-margin">&nbsp;</div> <a href="https://glow.li/"><span class="nocss"> × </span>All Posts</a> <a href="https://glow.li/tags/technology/"><span class="nocss"> × </span>Technology</a> <a href="https://glow.li/tags/photography/"><span class="nocss"> × </span>Photography</a> <a href="https://glow.li/tags/short/"><span class="nocss"> × </span>Short</a> <a href="https://glow.li/about/"><span class="nocss"> × </span>About</a> <a href="https://glow.li/feeds/"><span class="nocss"> × </span>Feeds</a> <a href="https://glow.li/fedi/"><span class="nocss"> × </span>Fedi Posts</a></div> <div class="nocss nocss-margin">&nbsp;</div> <div class="nocss nocss-margin">&nbsp;</div> <div class="nocss nocss-line"> ----------------------------------------------------------------------- <div class="nocss nocss-margin">&nbsp;</div> </div></div> </div></div> <div class="post-stripe stripe"><div class="stripe-content-centered"><div class="post"><div class="post-header"><div class="nocss nocss-margin">&nbsp;</div> <div class="post-meta"><span class="post-category"><a data-tag="Technology" href="https://glow.li/tags/technology/">Technology</a> • </span> <time datetime="2016-09-20" itemprop="datePublished"><a href="https://glow.li/posts/access-termux-via-usb/"> 2016-09-20 </a> </time> <div class="signature"><a class="signature-button" href="https://glow.li/posts/access-termux-via-usb/index.html.asc">Signed</a> </div> <span class="avatar"><a href="https://glow.li/about/" title="glow/"><img alt="Avatar of glow" src="https://glow.li/media/images/thumb/Glow_2022.webp"> </a> </span></div> <div class="title"><h2><span class="nocss nocss-indent">&nbsp;&nbsp;</span> <a href="https://glow.li/posts/access-termux-via-usb/"> Access Termux via USB </a></h2> </div></div> <div class="post-content" itemprop="articleBody"><p>I've been using <a href="https://glow.li/posts/run-an-ssh-server-on-your-android-with-termux/">Termux over SSH</a> for quite a while now. I've always done so over WiFi. This works reasonably well at home, where I control the IP Addresses. In other networks it was more annoying, because I always had to run <code>ifconfig</code> first, to get my IP. But the big annoyances start when you want to use it in a place that has no WiFi network available. Previously, I used an Android tablet and a keyboard. With this I set up a WiFi direct connection between my phone. It's wonky and sometimes requires to restart both devices before working again, but it works.</p> <p>Then I got a laptop. Installed a proper Linux on it and tried to connect to Termux. I tried setting up WiFi Direct. But after an hour or so of messing around <code>wpa_supplicant</code> I concluded that it's just too much of a hassle. But somewhere in the GitHub issues I came across the mention of connecting to Termux via ADB. The ADB shell is bad. I didn't actually manage to launch Termux programs via the ADB shell, but I heard that it's possible. But, and this is the point of this article, you can create port forwarding via ADB. This means that you can map a local port on your computer to a port on your Android device. Then you can open the 8022 port to access Termux via SSH over USB. This is awesome, when you're on the train, in a coffee shop or otherwise in a place with wonky or nonexistent WiFi.</p> <h3 id="Here+is+how+you+do+it" name="Here+is+how+you+do+it">Here is how you do it</h3> <h4 id="1.+You+need+ADB" name="1.+You+need+ADB">1. You need ADB</h4> <p>Most operating systems have an ADB package. On my one I was simply able to install it with:</p> <pre><code>sudo apt install adb</code></pre> <p>For other platforms you can check this site <a href="https://www.xda-developers.com/install-adb-windows-macos-linux/">here</a>.</p> <h4 id="2.+Create+your+port+forward" name="2.+Create+your+port+forward">2. Create your port forward</h4> <p>This part is really simple as well, and that's key. I don't want to do 500 things every time I want to connect to my phone.</p> <pre><code>adb forward tcp:8022 tcp:8022</code></pre> <p>This is really all it takes. The first instance of <code>tcp:8022</code> is the local port you want to bind the remote port to. The second one is the port from your Android device. Because Termux' SSHD runs on port 8022 by default, this is what you want.</p> <h4 id="3.+Connect+to+it" name="3.+Connect+to+it">3. Connect to it</h4> <p>Now that your local port is bound to your Android device you can simply connect to localhost on your computer:</p> <pre><code>ssh localhost -p 8022
#This is were you put the local port
#(ie. the first one)</code></pre> <p>This will connect you to your SSH Server. If you haven't set this up yet read <a href="https://glow.li/posts/run-an-ssh-server-on-your-android-with-termux/">this</a>.</p> <p>You will need to run the ADB command after every restart or after you've unplugged your device. I set up an alias for myself for the following command sequence:</p> <pre><code>adb forward tcp:8022 tcp:8022 &amp;&amp; adb forward tcp:8080 tcp:8080&amp;&amp; ssh localhost -p 8022
# This will also setup the port 8080, which is used by the httpd webserver on termux</code></pre></div> <footer class="post-footer"><div class="post-tags"><a class="tag" data-tag="Technology" href="https://glow.li/tags/technology/">#Technology</a> <a class="tag" data-tag="Termux" href="https://glow.li/tags/termux/">#Termux</a> <a class="tag" data-tag="CLI" href="https://glow.li/tags/cli/">#CLI</a> <a class="tag" data-tag="Android" href="https://glow.li/tags/android/">#Android</a> <a class="tag" data-tag="Tutorial" href="https://glow.li/tags/tutorial/">#Tutorial</a> <a class="tag" data-tag="Snippet" href="https://glow.li/tags/snippet/">#Snippet</a> <a class="tag" data-tag="SSH" href="https://glow.li/tags/ssh/">#SSH</a> <a class="tag" data-tag="2016" href="https://glow.li/tags/2016/">#2016</a></div> </footer> <nav class="post-navigation"><hr> <a class="post-next" href="https://glow.li/posts/android-notifications-for-profanity-with-termux/" title="Android notifications for Profanity in Termux">&lt;&lt; Next</a><a class="post-previous" href="https://glow.li/posts/using-pixel-fonts-in-a-browser-without-font-smoothing/" title="Pixel fonts in a browser without font smoothing">Previous &gt;&gt;</a></nav> <div class="nocss nocss-margin">&nbsp;</div></div> </div> </div> <div class="site-footer"><div class="stripe stripe-default"><div class="stripe-content-centered"><div class="nocss nocss-margin">&nbsp;</div> <div class="nocss nocss-line"> ----------------------------------------------------------------------- <div class="nocss nocss-margin">&nbsp;</div> </div> <div class="nocss nocss-margin">&nbsp;</div> <div class="blurb"><p>A blog by <a href="https://glow.li/about/">glow</a>.</p></div> <span class="madewith"><span class="charfont-tinier"><span class="charfont-m">M</span><span class="charfont-a">a</span><span class="charfont-d">d</span><span class="charfont-e">e</span><span class="charfont-space"></span><span class="charfont-o">o</span><span class="charfont-n">n</span><span class="charfont-space"></span></span><a href="https://termux.com"><span class="charfont-tinier"><span class="charfont-t">T</span><span class="charfont-e">e</span><span class="charfont-r">r</span><span class="charfont-m">m</span><span class="charfont-u">u</span><span class="charfont-x">x</span></span></a><span class="charfont-tinier"><span class="charfont-dot">.</span></span></span> <div class="nocss nocss-margin">&nbsp;</div></div> </div> </div></div> </div> <script>var cacheHashPrimer="407e0";</script><script src="https://glow.li/dist/prod/bundle.js?deb4e"></script></body></html>
